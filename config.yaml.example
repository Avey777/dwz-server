# 服务器配置
server:
  mode: release  # debug, release, test
  addr: ":8080"

# 数据库配置
database:
  # 数据库类型: mysql, postgresql, sqlite
  driver: mysql
  
  # MySQL/PostgreSQL 配置
  host: localhost
  port: 3306
  username: root
  password: password
  dbname: dwz_db
  
  # SQLite 配置（当 driver 为 sqlite 时使用）
  filepath: "./config/sqlite.db"

# 支持的环境变量：
# DATABASE_DRIVER=mysql|postgresql|sqlite
# DATABASE_HOST=localhost
# DATABASE_PORT=3306
# DATABASE_NAME=dwz_db  
# DATABASE_USERNAME=root
# DATABASE_PASSWORD=password
# DATABASE_FILEPATH=./config/sqlite.db

# 数据库配置示例：
# 
# MySQL:
#   driver: mysql
#   host: localhost
#   port: 3306
#   username: root
#   password: password
#   dbname: dwz_db
#
# PostgreSQL:
#   driver: postgresql
#   host: localhost
#   port: 5432
#   username: postgres
#   password: password
#   dbname: dwz_db
#
# SQLite:
#   driver: sqlite
#   filepath: "./config/sqlite.db"

# Redis 配置
redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  pool_size: 10
  min_idle_conns: 5

# 日志配置
log:
  level: info    # debug, info, warn, error
  filename: logs/app.log
  max_size: 100     # MB
  max_age: 30       # days
  max_backups: 10
  compress: true

# JWT 配置
jwt:
  secret: your-secret-key
  expire_hours: 24

# 短链接配置
shortlink:
  domain: "http://localhost:8080"
  length: 6
  custom_length: true

# 限流配置
rate_limit:
  requests_per_minute: 100
  burst: 10

# CORS 配置
cors:
  allow_origins:
    - "*"
  allow_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allow_headers:
    - "Origin"
    - "Content-Type"
    - "Authorization"

# 缓存配置
cache:
  driver: redis  # memory、redis、none

# ID生成器配置
id_generator:
  driver: redis  # memory、redis、none